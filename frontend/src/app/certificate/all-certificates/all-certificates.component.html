<div class="table-container">
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Organization</th>
        <th>Type</th>
        <th>Serial Number</th>
        <th>Start Date</th>
        <th>End Date</th>
        <th>Status</th>
        <th *ngIf="role === 'ee'" colspan="2" style="text-align: center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cert of certificates">
        <td>{{cert.id}}</td>
        <td>{{cert.organization.name}}</td>
        <td>{{cert.type}}</td>
        <td>{{cert.serialNumber}}</td>
        <td>{{cert.startDate | date}}</td>
        <td>{{cert.endDate | date}}</td>
        <td>{{cert.revoked ? 'Revoked' : 'Valid'}}</td>
        <td *ngIf="role === 'ee'">
          <button class="delete" (click)="revokeCertificate(cert)">
            Revoke
          </button>
        </td>
        <td *ngIf="role === 'ee'">
          <button class="edit" (click)="downloadCertificate(cert)">
            Download
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<app-dialog
  *ngIf="showDialog"
  [message]="dialogMessage"
  [type]="dialogType"
  (close)="onClose()"
  (confirm)="onConfirm()">
</app-dialog>
